import{j as e}from"./jsx-runtime.7faW4zRM.js";import{r as i}from"./index.DhYZZe0J.js";import f from"./Button.DKUdnFbf.js";import"./proxy.DCv0zgYW.js";const g=({title:d,data:o,contentType:r,href:x})=>{const[l,m]=i.useState(3),n=o[r].nodes.length,[a,c]=i.useState(0);i.useEffect(()=>{const s=()=>{m(window.innerWidth<768?1:3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const u=()=>{c(s=>{const t=s+1;return t>=n-l+1?0:t})},h=()=>{c(s=>{const t=s-1;return t<0?Math.max(n-l,0):t})};return e.jsxs("div",{className:"carousel flex items-center flex-col gap-5 max-w-4xl mx-auto mt-10 p-5 pb-10",children:[e.jsx("h2",{className:"text-5xl text-light-cream font-black font-truculenta",children:d}),e.jsx("div",{className:"overflow-hidden",children:e.jsx("div",{className:"carousel-inner flex transition-transform duration-500",style:{transform:`translateX(-${a*100/l}%)`},children:o[r].nodes.filter(s=>s[r]?.miniature?.node).map((s,t)=>e.jsx("div",{className:"w-full sm:w-1/3 p-2 flex-shrink-0",children:e.jsx("div",{className:"relative bg-white overflow-hidden group",children:e.jsxs("a",{href:`/${r}/${s.id}`,className:"block",children:[e.jsx("img",{src:s[r].miniature.node.sourceUrl,alt:s[r].miniature.node.altText,className:"w-full aspect-video object-cover transform transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-70 flex items-center justify-center z-10",children:e.jsx("h2",{className:"text-white text-xl font-bold text-center",children:s[r].titre})})]})})},t))})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"carousel-prev text-white bg-red p-2 rounded-lg","aria-label":"Previous slide",onClick:h,disabled:a===0,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),e.jsx("button",{className:"carousel-next text-white bg-red p-2 rounded-lg","aria-label":"Next slide",onClick:u,disabled:a>=n-l,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})})]}),e.jsx(f,{"client:load":!0,color:"cream",size:"small",href:x,children:"Voir plus"})]})};export{g as default};
