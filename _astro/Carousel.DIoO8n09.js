import{j as t}from"./jsx-runtime.7faW4zRM.js";import{r as i}from"./index.DhYZZe0J.js";import f from"./Button.D_-jcokS.js";import"./proxy.DCv0zgYW.js";const g=({title:d,data:o,contentType:s,href:x})=>{const[a,m]=i.useState(3),l=o[s].nodes.length,[n,c]=i.useState(0);i.useEffect(()=>{const e=()=>{m(window.innerWidth<768?1:3)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const u=()=>{c(e=>{const r=e+1;return r>=l-a+1?0:r})},h=()=>{c(e=>{const r=e-1;return r<0?Math.max(l-a,0):r})};return t.jsxs("div",{className:"carousel flex items-center flex-col gap-5 max-w-4xl mx-auto mt-10 p-5 pb-10",children:[t.jsx("h2",{className:"text-5xl text-light-cream font-black font-truculenta",children:d}),t.jsx("div",{className:"overflow-hidden",children:t.jsx("div",{className:"carousel-inner flex transition-transform duration-500",style:{transform:`translateX(-${n*100/a}%)`},children:o[s].nodes.filter(e=>e[s]?.miniature?.node).map((e,r)=>t.jsx("div",{className:"w-full sm:w-1/3 p-2 flex-shrink-0",children:t.jsx("div",{className:"relative bg-white overflow-hidden group",children:t.jsxs("a",{href:`/${s}/${e.id}`,className:"block",children:[t.jsx("img",{src:e[s].miniature.node.sourceUrl,alt:e[s].miniature.node.altText,className:"w-full aspect-video object-cover transform transition-transform duration-300 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-black opacity-70 flex items-center justify-center z-10",children:t.jsx("h2",{className:"text-white text-xl font-bold text-center",children:e[s].titre})})]})})},r))})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{className:"carousel-prev bg-red text-white aspect-square w-8 rounded-lg",onClick:h,disabled:n===0,children:"◀"}),t.jsx("button",{className:"carousel-next bg-red text-white aspect-square w-8 rounded-lg",onClick:u,disabled:n>=l-a,children:"▶"})]}),t.jsx(f,{"client:load":!0,color:"cream",size:"small",href:x,children:"Voir plus"})]})};export{g as default};
